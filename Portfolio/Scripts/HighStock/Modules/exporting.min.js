(function(n){var l=n.Chart,e=n.addEvent,v=n.removeEvent,i=n.createElement,s=n.discardElement,o=n.css,f=n.merge,r=n.each,t=n.extend,y=Math.max,u=document,a=window,p=n.isTouchDevice,w=n.Renderer.prototype.symbols,h=n.getOptions(),c;t(h.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});h.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:p?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}};h.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};n.post=function(n,t){var r,f=i("form",{method:"post",action:n,enctype:"multipart/form-data"},{display:"none"},u.body);for(r in t)i("input",{type:"hidden",name:r,value:t[r]},null,f);f.submit();s(f)};t(l.prototype,{getSVG:function(e){var c=this,a,h,v,l,o=f(c.options,e);return u.createElementNS||(u.createElementNS=function(n,t){return u.createElement(t)}),e=i("div",null,{position:"absolute",top:"-9999em",width:c.chartWidth+"px",height:c.chartHeight+"px"},u.body),h=c.renderTo.style.width,l=c.renderTo.style.height,h=o.exporting.sourceWidth||o.chart.width||/px$/.test(h)&&parseInt(h,10)||600,l=o.exporting.sourceHeight||o.chart.height||/px$/.test(l)&&parseInt(l,10)||400,t(o.chart,{animation:!1,renderTo:e,forExport:!0,width:h,height:l}),o.exporting.enabled=!1,o.series=[],r(c.series,function(n){v=f(n.options,{animation:!1,showCheckbox:!1,visible:n.visible});v.isInternal||o.series.push(v)}),a=new n.Chart(o,c.callback),r(["xAxis","yAxis"],function(n){r(c[n],function(t,i){var u=a[n][i],r=t.getExtremes(),f=r.userMin,r=r.userMax;u&&(f!==void 0||r!==void 0)&&u.setExtremes(f,r,!0,!1)})}),h=a.container.innerHTML,o=null,a.destroy(),s(e),h=h.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"<\/svg>").replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(n){return n.toLowerCase()}),h.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(t,i){var t=t||{},r=this.options.exporting,r=this.getSVG(f({chart:{borderRadius:0}},r.chartOptions,i,{exporting:{sourceWidth:t.sourceWidth||r.sourceWidth,sourceHeight:t.sourceHeight||r.sourceHeight}})),t=f(this.options.exporting,t);n.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale||2,svg:r})},print:function(){var n=this,t=n.container,i=[],o=t.parentNode,f=u.body,e=f.childNodes;n.isPrinting||(n.isPrinting=!0,r(e,function(n,t){n.nodeType===1&&(i[t]=n.style.display,n.style.display="none")}),f.appendChild(t),a.focus(),a.print(),setTimeout(function(){o.appendChild(t);r(e,function(n,t){n.nodeType===1&&(n.style.display=i[t])});n.isPrinting=!1},1e3))},contextMenu:function(n,u,f,s,h,c,l){var a=this,k=a.options.navigation,d=k.menuItemStyle,g=a.chartWidth,nt=a.chartHeight,tt="cache-"+n,v=a[tt],p=y(h,c),w,b,it;v||(a[tt]=v=i("div",{className:n},{position:"absolute",zIndex:1e3,padding:p+"px"},a.container),w=i("div",null,t({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},k.menuStyle),v),b=function(){o(v,{display:"none"});l&&l.setState(0);a.openMenu=!1},e(v,"mouseleave",function(){it=setTimeout(b,500)}),e(v,"mouseenter",function(){clearTimeout(it)}),e(document,"mouseup",function(t){a.pointer.inClass(t.target,n)||b()}),r(u,function(n){if(n){var r=n.separator?i("hr",null,null,w):i("div",{onmouseover:function(){o(this,k.menuItemHoverStyle)},onmouseout:function(){o(this,d)},onclick:function(){b();n.onclick.apply(a,arguments)},innerHTML:n.text||a.options.lang[n.textKey]},t({cursor:"pointer"},d),w);a.exportDivElements.push(r)}}),a.exportDivElements.push(w,v),a.exportMenuWidth=v.offsetWidth,a.exportMenuHeight=v.offsetHeight);u={display:"block"};f+a.exportMenuWidth>g?u.right=g-f-h-p+"px":u.left=f-p+"px";s+c+a.exportMenuHeight>nt&&l.alignOptions.verticalAlign!=="top"?u.bottom=nt-s-p+"px":u.top=s+c-p+"px";o(v,u);a.openMenu=!0},addButton:function(i){var e=this,a=e.renderer,r=f(e.options.navigation.buttonOptions,i),v=r.onclick,y=r.menuItems,p,u,w={stroke:r.symbolStroke,fill:r.symbolFill},h=r.symbolSize||12;if(e.btnCount||(e.btnCount=0),e.exportDivElements||(e.exportDivElements=[],e.exportSVGElements=[]),r.enabled!==!1){var o=r.theme,s=o.states,b=s&&s.hover,s=s&&s.select,l;delete o.states;v?l=function(){v.apply(e,arguments)}:y&&(l=function(){e.contextMenu(u.menuClassName,y,u.translateX,u.translateY,u.width,u.height,u);u.setState(2)});r.text&&r.symbol?o.paddingLeft=n.pick(o.paddingLeft,25):r.text||t(o,{width:r.width,height:r.height,padding:0});u=a.button(r.text,0,0,l,o,b,s).attr({title:e.options.lang[r._titleKey],"stroke-linecap":"round"});u.menuClassName=i.menuClassName||"highcharts-menu-"+e.btnCount++;r.symbol&&(p=a.symbol(r.symbol,r.symbolX-h/2,r.symbolY-h/2,h,h).attr(t(w,{"stroke-width":r.symbolStrokeWidth||1,zIndex:1})).add(u));u.add().align(t(r,{width:u.width,x:n.pick(r.x,c)}),!0,"spacingBox");c+=(u.width+r.buttonSpacing)*(r.align==="right"?-1:1);e.exportSVGElements.push(u,p)}},destroyExport:function(n){for(var n=n.target,t,i=0;i<n.exportSVGElements.length;i++)(t=n.exportSVGElements[i])&&(t.onclick=t.ontouchstart=null,n.exportSVGElements[i]=t.destroy());for(i=0;i<n.exportDivElements.length;i++)t=n.exportDivElements[i],v(t,"mouseleave"),n.exportDivElements[i]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,s(t)}});w.menu=function(n,t,i,r){return["M",n,t+2.5,"L",n+i,t+2.5,"M",n,t+r/2+.5,"L",n+i,t+r/2+.5,"M",n,t+r-1.5,"L",n+i,t+r-1.5]};l.prototype.callbacks.push(function(n){var t,i=n.options.exporting,r=i.buttons;if(c=0,i.enabled!==!1){for(t in r)n.addButton(r[t]);e(n,"destroy",n.destroyExport)}})})(Highcharts);
//# sourceMappingURL=exporting.min.js.map