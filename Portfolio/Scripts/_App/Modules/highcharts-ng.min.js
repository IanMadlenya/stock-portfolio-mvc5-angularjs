"use strict";angular.module("highcharts-ng",[]).directive("highchart",function(){function t(n,t,i){var r=n[t];n[t]=function(){var n=Array.prototype.slice.call(arguments);if(i.apply(this,n),r)return r.apply(this,n)}}function i(n,t){for(var r in t)t[r]&&t[r].constructor&&t[r].constructor===Object?(n[r]=n[r]||{},i(n[r],t[r])):n[r]=t[r];return n}var u=0,f=function(n){n.forEach(function(n){angular.isDefined(n.id)||(n.id="series-"+u++)})},e=function(n,r,u){var f={},e={chart:{events:{}},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{enabled:!1}};return f=u.options?i(e,u.options):e,f.chart.renderTo=r[0],u.xAxis&&(t(f.chart.events,"selection",function(t){var i=this;t.xAxis?n.$apply(function(){n.config.xAxis.currentMin=t.xAxis[0].min;n.config.xAxis.currentMax=t.xAxis[0].max}):n.$apply(function(){n.config.xAxis.currentMin=i.xAxis[0].dataMin;n.config.xAxis.currentMax=i.xAxis[0].dataMax})}),t(f.chart.events,"addSeries",function(){n.config.xAxis.currentMin=this.xAxis[0].min||n.config.xAxis.currentMin;n.config.xAxis.currentMax=this.xAxis[0].max||n.config.xAxis.currentMax})),u.xAxis&&(f.xAxis=angular.copy(u.xAxis)),u.title&&(f.title=u.title),u.subtitle&&(f.subtitle=u.subtitle),u.credits&&(f.credits=u.credits),f},o=function(n,t){var i=n.getExtremes();(t.currentMin!==i.dataMin||t.currentMax!==i.dataMax)&&n.setExtremes(t.currentMin,t.currentMax,!1)},s=function(n,t){(t.currentMin||t.currentMax)&&n.xAxis[0].setExtremes(t.currentMin,t.currentMax,!0)},r=function(n,t){var u=[],i,r;for(t&&(f(t),t.forEach(function(t){u.push(t.id);var i=n.get(t.id);i?i.update(angular.copy(t),!1):n.addSeries(angular.copy(t),!1)})),i=n.series.length-1;i>=0;i--)r=n.series[i],u.indexOf(r.options.id)<0&&r.remove(!1)},n=function(n,t,i){i||(i={});var f=e(n,t,i),u=i.useHighStocks?new Highcharts.StockChart(f):new Highcharts.Chart(f);return i.xAxis&&s(u,i.xAxis),r(u,i.series),i.loading&&u.showLoading(),u.redraw(),u};return{restrict:"EAC",replace:!0,template:"<div><\/div>",scope:{config:"="},link:function(t,i){var u=n(t,i,t.config);t.$watch("config.series",function(n,t){n!==t&&(r(u,n),u.redraw())},!0);t.$watch("config.title",function(n){u.setTitle(n,!0)},!0);t.$watch("config.subtitle",function(n){u.setTitle(!0,n)},!0);t.$watch("config.loading",function(n){n?u.showLoading():u.hideLoading()});t.$watch("config.credits.enabled",function(n){n?u.credits.show():u.credits&&u.credits.hide()});t.$watch("config.useHighStocks",function(){u.destroy();u=n(t,i,t.config)});t.$watch("config.xAxis",function(n,t){n!==t&&n&&(u.xAxis[0].update(n),o(u.xAxis[0],angular.copy(n)),u.redraw())},!0);t.$watch("config.options",function(t,r,f){t!==r&&(u.destroy(),u=n(f,i,f.config))},!0)}}});
//# sourceMappingURL=highcharts-ng.min.js.map