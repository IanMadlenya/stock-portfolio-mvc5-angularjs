"use strict";app.controller("OptionController",["$scope","autocompleteService","toaster","optionAnalysisService","utilitiesService",function(n,t,i,r,u){function f(){n.options=r.getOptionData()}function e(t){var u=r.getOptions(t);u.then(function(r){n.options.push({symbol:t,data:r});console.log("Option promise forefilled data count: "+r.length);n.selected=undefined;n.loading=!1;r.length===0&&i.pop("information","No options found.","Please try another symbol/company as not all companies have option listings")})}n.options={};n.btnRadioData={selectedOpton:undefined};f();n.symbols=[];n.OnInputChange=function(){n.symbols=t.getSymbols(n.selected)};n.SelectSymbol=function(){var t=n.selected.Symbol;n.loading=!0;u.isItemInArrayByProperty(n.options,"symbol",t)?(i.pop("warning","The options table for this symbol has already been retrieved."),n.loading=!1):e(t)};n.viewOptionData=function(t){var i=u.findObjByKey(n.options,"symbol",t);n.volatility=i.data[0].Volatility;n.currentOptionSet=i.data;n.filteredOptions=i.data;$(window).resize()};n.filterByInTheMoney=function(){if(n.inTheMoney){n.filteredOptions=[];for(var t=0;t<n.currentOptionSet.length;t++)n.currentOptionSet[t].InTheMoney&&n.filteredOptions.push(n.currentOptionSet[t])}n.inTheMoney||(n.filteredOptions=n.currentOptionSet)};n.filterOptions={filterText:""};n.isVolatilityPopulated=function(){return n.volatility>0?!0:!1};n.gridDataAvailable=function(){return n.options.length>0?!0:!1};n.gridOptions={data:"filteredOptions",filterOptions:n.filterOptions,enablePinning:!0,enableColumnResize:!0,columnDefs:[{field:"StrikePrice",displayName:"Strike",width:"10%",cellTemplate:"<div ng-class=\"{optionGridRowInTheMoney: row.getProperty('InTheMoney'), optionGridRowAtTheMoney: row.getProperty('AtTheMoney')}\"><div class=\"ngCellText\">{{row.getProperty(col.field)}}<\/div><\/div>"},{field:"Symbol",width:"18%",cellTemplate:"<div ng-class=\"{optionGridRowInTheMoney: row.getProperty('InTheMoney'), optionGridRowAtTheMoney: row.getProperty('AtTheMoney')}\"><div class=\"ngCellText\">{{row.getProperty(col.field)}}<\/div><\/div>"},{field:"LastPrice",displayName:"Last",width:"5%",cellTemplate:"<div ng-class=\"{optionGridRowInTheMoney: row.getProperty('InTheMoney'), optionGridRowAtTheMoney: row.getProperty('AtTheMoney')}\"><div class=\"ngCellText\">{{row.getProperty(col.field)}}<\/div><\/div>"},{field:"Change",width:"7%",cellTemplate:"<div ng-class=\"{optionGridRowInTheMoney: row.getProperty('InTheMoney'), optionGridRowAtTheMoney: row.getProperty('AtTheMoney')}\"><div class=\"ngCellText\">{{row.getProperty(col.field)}}<\/div><\/div>"},{field:"Bid",width:"5%",cellTemplate:"<div ng-class=\"{optionGridRowInTheMoney: row.getProperty('InTheMoney'), optionGridRowAtTheMoney: row.getProperty('AtTheMoney')}\"><div class=\"ngCellText\">{{row.getProperty(col.field)}}<\/div><\/div>"},{field:"Ask",width:"5%",cellTemplate:"<div ng-class=\"{optionGridRowInTheMoney: row.getProperty('InTheMoney'), optionGridRowAtTheMoney: row.getProperty('AtTheMoney')}\"><div class=\"ngCellText\">{{row.getProperty(col.field)}}<\/div><\/div>"},{field:"Vol",width:"5%",cellTemplate:"<div ng-class=\"{optionGridRowInTheMoney: row.getProperty('InTheMoney'), optionGridRowAtTheMoney: row.getProperty('AtTheMoney')}\"><div class=\"ngCellText\">{{row.getProperty(col.field)}}<\/div><\/div>"},{field:"OpenInt",width:"8%",cellTemplate:"<div ng-class=\"{optionGridRowInTheMoney: row.getProperty('InTheMoney'), optionGridRowAtTheMoney: row.getProperty('AtTheMoney')}\"><div class=\"ngCellText\">{{row.getProperty(col.field)}}<\/div><\/div>"},{field:"DaysToExpiry",width:"5%",displayName:"DTE",cellTemplate:"<div ng-class=\"{optionGridRowInTheMoney: row.getProperty('InTheMoney'), optionGridRowAtTheMoney: row.getProperty('AtTheMoney')}\"><div class=\"ngCellText\">{{row.getProperty(col.field)}}<\/div><\/div>"},{field:"BlackScholes",displayName:"Black Scholes",width:"11%",cellTemplate:"<div ng-class=\"{optionGridRowInTheMoney: row.getProperty('InTheMoney'), optionGridRowAtTheMoney: row.getProperty('AtTheMoney')}\"><div class=\"ngCellText\">{{row.getProperty(col.field)}}<\/div><\/div>"}]}}]);
/*
//# sourceMappingURL=OptionController.min.js.map
*/